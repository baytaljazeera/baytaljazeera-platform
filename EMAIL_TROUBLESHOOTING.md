# ุงุณุชูุดุงู ุฃุฎุทุงุก ุงูุฅููููุงุช
# Email Troubleshooting Guide

## ๐ ุงููุดููุฉ: ุงูุฅููููุงุช ูุง ุชุตู

ุฅุฐุง ูู ุชุตู ุงูุฅููููุงุช ุจุนุฏ ุงูุชุณุฌููุ ุงุชุจุน ูุฐู ุงูุฎุทูุงุช:

---

## โ ุงูุฎุทูุฉ 1: ุงูุชุญูู ูู Logs ูู Render

1. ุงุฐูุจ ุฅูู Render Dashboard โ **Logs**
2. ุงุจุญุซ ุนู ูุฐู ุงูุฑุณุงุฆู:

### ุฅุฐุง ุฑุฃูุช:
```
โ [EmailService] Gmail API initialized successfully!
๐ง Email verification sent to user@example.com
```

**ูุนูู:** Gmail API ูุนูู ูุงูุฅูููู ุชู ุฅุฑุณุงูู. ุงููุดููุฉ ูุฏ ุชููู:
- ุงูุฅูููู ูู **Spam/Junk**
- ุนููุงู ุงูุฅูููู ุบูุฑ ุตุญูุญ
- ูุฒูุฏ ุงูุจุฑูุฏ ูุญุฌุจ ุงูุฅููููุงุช

### ุฅุฐุง ุฑุฃูุช:
```
โ๏ธ [EmailService] Gmail credentials not set. Email sending will be disabled.
โ Failed to send email verification: Gmail API not configured
```

**ุงููุดููุฉ:** Gmail API ุบูุฑ ูุนุฑูู. ุฑุงุฌุน ุงูุฎุทูุฉ 2.

---

## ๐ ุงูุฎุทูุฉ 2: ุงูุชุญูู ูู ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ

ุงุฐูุจ ุฅูู Render Dashboard โ **Environment** ูุชุฃูุฏ ูู ูุฌูุฏ:

### ุงููุชุบูุฑุงุช ุงููุทููุจุฉ (3):
```bash
GMAIL_CLIENT_ID=your-client-id.apps.googleusercontent.com
GMAIL_CLIENT_SECRET=your-client-secret
GMAIL_REFRESH_TOKEN=your-refresh-token
```

### ุงููุชุบูุฑุงุช ุงูุงุฎุชูุงุฑูุฉ (ููุง ููู ุงูุชุฑุงุถูุฉ):
```bash
GMAIL_USER_EMAIL=info@baytaljazeera.com  # ุงูุชุฑุงุถู
GMAIL_FROM_NAME=ุจูุช ุงูุฌุฒูุฑุฉ              # ุงูุชุฑุงุถู
```

**ุฅุฐุง ูุงูุช ุงููุชุบูุฑุงุช ููููุฏุฉ:**
1. ุฑุงุฌุน ููู `GMAIL_SETUP_STEP_BY_STEP.md`
2. ุงุญุตู ุนูู Refresh Token ูู OAuth 2.0 Playground
3. ุฃุถู ุงููุชุบูุฑุงุช ูู Render
4. ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู

---

## ๐ง ุงูุฎุทูุฉ 3: ุงูุชุญูู ูู ุตูุฏูู Spam

1. ุงูุชุญ ุตูุฏูู **Spam/Junk** ูู ุจุฑูุฏู ุงูุฅููุชุฑููู
2. ุงุจุญุซ ุนู ุฅููููุงุช ูู `info@baytaljazeera.com`
3. ุฅุฐุง ูุฌุฏุช ุงูุฅูููู ูู Spam:
   - ุงุถุบุท **"Not Spam"** ุฃู **"ููุณ ุจุฑูุฏุงู ุนุดูุงุฆูุงู"**
   - ุฃุถู `info@baytaljazeera.com` ุฅูู ูุงุฆูุฉ ุงููุฑุณููู ุงูููุซูููู

---

## ๐งช ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุงูุฅูููู

### ุงุฎุชุจุงุฑ 1: ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ
1. ุงุฐูุจ ุฅูู `/register`
2. ุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ ุจุฅูููู ุญูููู
3. ุชุญูู ูู Logs ูู Render
4. ุงุจุญุซ ุนู: `๐ง Email verification sent to [email]`

### ุงุฎุชุจุงุฑ 2: ุฅุนุงุฏุฉ ุฅุฑุณุงู ุฑุงุจุท ุงูุชุฃููุฏ
1. ุงุฐูุจ ุฅูู `/verify-email?email=your@email.com`
2. ุงุถุบุท **"ุฅุนุงุฏุฉ ุฅุฑุณุงู ุฑุงุจุท ุงูุชุฃููุฏ"**
3. ุชุญูู ูู Logs ูู Render

---

## ๐ ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

### ุฎุทุฃ 1: "invalid_grant"
```
โ Failed to initialize Gmail API: invalid_grant
```

**ุงูุณุจุจ:** Refresh Token ุบูุฑ ุตุญูุญ ุฃู ููุชูู

**ุงูุญู:**
1. ุงุญุตู ุนูู Refresh Token ุฌุฏูุฏ ูู OAuth 2.0 Playground
2. ุญุฏูุซ `GMAIL_REFRESH_TOKEN` ูู Render
3. ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู

### ุฎุทุฃ 2: "unauthorized_client"
```
โ Failed to initialize Gmail API: unauthorized_client
```

**ุงูุณุจุจ:** Client ID ุฃู Client Secret ุบูุฑ ุตุญูุญ

**ุงูุญู:**
1. ุฑุงุฌุน Google Cloud Console โ Credentials
2. ุชุฃูุฏ ูู ูุณุฎ Client ID ู Client Secret ุจุดูู ุตุญูุญ
3. ุญุฏูุซ ุงููุชุบูุฑุงุช ูู Render

### ุฎุทุฃ 3: "Gmail API not configured"
```
โ Gmail API not configured. Cannot send email.
```

**ุงูุณุจุจ:** ุฃุญุฏ ุงููุชุบูุฑุงุช ุงูุซูุงุซุฉ ููููุฏ

**ุงูุญู:**
1. ุชุญูู ูู ูุฌูุฏ ุฌููุน ุงููุชุบูุฑุงุช ูู Render
2. ุชุฃูุฏ ูู ุนุฏู ูุฌูุฏ ูุณุงูุงุช ุฅุถุงููุฉ
3. ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู ุจุนุฏ ุฅุถุงูุฉ ุงููุชุบูุฑุงุช

---

## ๐ ูุงุฆูุฉ ุงูุชุญูู

- [ ] ุฌููุน ุงููุชุบูุฑุงุช ุงูุซูุงุซุฉ ููุฌูุฏุฉ ูู Render
- [ ] Logs ุชุธูุฑ `โ Gmail API initialized successfully`
- [ ] ุชู ุงุฎุชุจุงุฑ ุชุณุฌูู ูุณุชุฎุฏู ุฌุฏูุฏ
- [ ] ุชู ุงูุชุญูู ูู ุตูุฏูู Spam
- [ ] ุชู ุงูุชุญูู ูู Logs ุจุนุฏ ุงูุชุณุฌูู
- [ ] Refresh Token ุตุญูุญ ูุบูุฑ ููุชูู

---

## ๐ ุฅุนุงุฏุฉ ุฅุฑุณุงู ุฑุงุจุท ุงูุชุฃููุฏ

ุฅุฐุง ูู ูุตู ุงูุฅููููุ ููููู:

1. **ูู ุงููุงุฌูุฉ:**
   - ุงุฐูุจ ุฅูู `/verify-email?email=your@email.com`
   - ุงุถุบุท **"ุฅุนุงุฏุฉ ุฅุฑุณุงู ุฑุงุจุท ุงูุชุฃููุฏ"**

2. **ูู API:**
   ```bash
   POST /api/auth/resend-verification
   Body: { "email": "your@email.com" }
   ```

---

## ๐ ุงูุฏุนู

ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ:
1. ุชุญูู ูู Logs ูู Render
2. ุชุฃูุฏ ูู ุฃู ุฌููุน ุงููุชุบูุฑุงุช ุตุญูุญุฉ
3. ุฑุงุฌุน ููู `GMAIL_SETUP_STEP_BY_STEP.md` ูุฅุนุงุฏุฉ ุงูุฅุนุฏุงุฏ

---

**ุขุฎุฑ ุชุญุฏูุซ:** 2025-01-24
