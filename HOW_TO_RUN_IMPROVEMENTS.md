# ๐ ุฏููู ุณุฑูุน - ููููุฉ ุชุดุบูู ุงูุชุญุณููุงุช
## How to Run Pre-Launch Improvements

**ุงูุชุงุฑูุฎ:** 16 ููุงูุฑ 2025  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุชูููุฐ

---

## ๐ ูุง ุชู ุฅุนุฏุงุฏู ุญุชู ุงูุขู

### โ **ุงููููุงุช ุงูุฌุงูุฒุฉ:**
1. โ `backend/scripts/add-missing-indexes.js` - **ุฌุงูุฒ ููุชุดุบูู**
2. โ `backend/utils/errorHandler.js` - **ุฌุงูุฒ (ูุง ูุญุชุงุฌ ุชุดุบูู)**
3. โ `PRE_LAUNCH_CHECKLIST.md` - **ุฏููู ุดุงูู**
4. โ `QUICK_START_PRE_LAUNCH.md` - **ุฏููู ุณุฑูุน**

### โ **ุงูุชุญุณููุงุช ุงููููุฐุฉ ูู ุงูููุฏ:**
1. โ Error Handler ูุญุณูู (ูู `backend/utils/errorHandler.js`)
2. โ Modal ูุญุณูู (ูู `frontend/app/search/page.tsx`)
3. โ CORS ูุญุณูู (ูู `backend/config/security.js`)

---

## ๐ฏ ูุง ุชุญุชุงุฌ ุฅูู ุชุดุบููู ุงูุขู

### **1๏ธโฃ ุชุดุบูู Indexes Script (ููู ุฌุฏุงู!)** โญ

ูุฐุง ุงูุณูุฑูุจุช ูุถูู Indexes ููุงุนุฏุฉ ุงูุจูุงูุงุช ูุชุญุณูู ุงูุฃุฏุงุก.

#### **ููู ุชุดุบููู:**

```bash
# 1. ุงุฐูุจ ุฅูู ูุฌูุฏ ุงููุดุฑูุน
cd /Users/husseinbabsail/Desktop/projects/baytaljazeera-platform

# 2. ุดุบูู ุงูุณูุฑูุจุช
node backend/scripts/add-missing-indexes.js
```

#### **ูุงุฐุง ููุนู:**
- โ ูุถูู Indexes ุนูู `properties` table (ููุจุญุซ ุงูุณุฑูุน)
- โ ูุถูู Indexes ุนูู `users` table (ูููุตุงุฏูุฉ ุงูุณุฑูุนุฉ)
- โ ูุถูู Indexes ุนูู `user_plans` table (ููุงุดุชุฑุงูุงุช)
- โ ูุถูู Indexes ุนูู `quota_buckets` table (ูููููุชุง)

#### **ุงููุฏุฉ:** 1-2 ุฏูููุฉ

#### **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
๐ ูุญุต ูุฅุถุงูุฉ Indexes ูุงูุตุฉ...
โ Added index: idx_properties_status_approved
โ Added index: idx_properties_city_status
...
โ Completed: X added, Y skipped
```

---

### **2๏ธโฃ ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช** โ

#### **ููู ุชุดุบูููุง:**

```bash
# ูู ูุฌูุฏ ุงููุดุฑูุน ุงูุฑุฆูุณู
cd /Users/husseinbabsail/Desktop/projects/baytaljazeera-platform

# ุชุดุบูู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช
npm test

# ุฃู ูุน Coverage (ุฃุจุทุฃ ููู ูุนุทู ุชูุฑูุฑ ุชูุตููู)
npm run test:coverage
```

#### **ูุงุฐุง ููุนู:**
- โ ูุฎุชุจุฑ Authentication (ุชุณุฌูู ุงูุฏุฎูู)
- โ ูุฎุชุจุฑ Listings (ุฅูุดุงุก ูุนุฑุถ ุงูุนูุงุฑุงุช)
- โ ูุฎุชุจุฑ Admin (ููุญุฉ ุงูุชุญูู)
- โ ูุฎุชุจุฑ Reports (ุงูุจูุงุบุงุช)
- โ ูุฎุชุจุฑ API endpoints

#### **ุงููุฏุฉ:** 5-10 ุฏูุงุฆู

#### **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**
```
PASS  backend/__tests__/auth.test.js
PASS  backend/__tests__/listings.test.js
...
Test Suites: X passed, Y total
Tests:       X passed, Y total
```

---

### **3๏ธโฃ ุงุฎุชุจุงุฑ ูุฏูู** ๐จโ๐ป

#### **ูุง ูุฌุจ ุงุฎุชุจุงุฑู:**

1. **ุชุณุฌูู ุงูุฏุฎูู** โ
   - ุฌุฑูุจ: `super@aqar.sa` / `Admin@123456`
   - ุชุฃูุฏ ูู ุฃู ุงูุฏุฎูู ูุนูู

2. **ุฅูุดุงุก ุฅุนูุงู** โ
   - ุงุฐูุจ ุฅูู `/listings/new`
   - ุฃุถู ุฅุนูุงู ุชุฌุฑูุจู
   - ุชุฃูุฏ ูู ุฃู ุงูุญูุธ ูุนูู

3. **ุงูุจุญุซ ูุงูููุชุฑุฉ** โ
   - ุงุฐูุจ ุฅูู `/search`
   - ุฌุฑูุจ ุงูุจุญุซ ุจุงูุฎุฑูุทุฉ
   - ุฌุฑูุจ ุงูููุงุชุฑ ุงููุฎุชููุฉ

4. **Admin Dashboard** โ
   - ุงุฐูุจ ุฅูู `/admin/dashboard`
   - ุชุฃูุฏ ูู ุฃู ุงูููุญุฉ ุชุนูู

5. **Mobile Responsive** โ
   - ุงูุชุญ ุงููููุน ุนูู ุงูููุจุงูู
   - ุชุฃูุฏ ูู ุฃู ุงูุชุตููู ูุชูุงุณู

#### **ุงููุฏุฉ:** 1-2 ุณุงุนุฉ

---

## ๐ง ุงูุชุญุณููุงุช ุงูุงุฎุชูุงุฑูุฉ (ููุณุช ุถุฑูุฑูุฉ ููุฅุทูุงู)

### **Redis (ููุตู ุจู)** ๐ก

**ููุงุฐุงุ** ูุญุณูู ุงูุฃุฏุงุก ูุงูู Caching

**ููู ุชุถููู:**
1. ุงุฐูุจ ุฅูู Railway Dashboard
2. ุงุฐูุจ ุฅูู Variables
3. ุฃุถู `REDIS_URL` ุฃู `UPSTASH_REDIS_URL`
4. ุฃุนุฏ ุงููุดุฑ

**ุงููุฏุฉ:** 10 ุฏูุงุฆู

---

### **Sentry (ููุตู ุจู)** ๐ก

**ููุงุฐุงุ** ุชุชุจุน ุงูุฃุฎุทุงุก ุชููุงุฆูุงู

**ููู ุชุถููู:**
1. ุณุฌูู ูู [sentry.io](https://sentry.io)
2. ุฃูุดุฆ ูุดุฑูุน ุฌุฏูุฏ
3. ุฎุฐ `SENTRY_DSN`
4. ุฃุถูู ูู Railway Variables
5. (ุงุฎุชูุงุฑู) ุฃุถู ุงูููุฏ ูู `backend/index.js`

**ุงููุฏุฉ:** 20-30 ุฏูููุฉ

---

## โ Checklist ุณุฑูุน

### **ูุจู ุงูุฅุทูุงู ูุจุงุดุฑุฉ:**

- [ ] โ ุดุบููุช `node backend/scripts/add-missing-indexes.js` (1-2 ุฏูููุฉ)
- [ ] โ ุดุบููุช `npm test` (5-10 ุฏูุงุฆู)
- [ ] โ ุงุฎุชุจุฑุช ุงููููุน ูุฏููุงู (1-2 ุณุงุนุฉ)
- [ ] ๐ก ุฃุถูุช Redis (ุงุฎุชูุงุฑู - 10 ุฏูุงุฆู)
- [ ] ๐ก ุฃุถูุช Sentry (ุงุฎุชูุงุฑู - 20-30 ุฏูููุฉ)

---

## ๐ ุฃูู ุชูุฌุฏ ุงููููุงุช

### **Scripts:**
- ๐ `backend/scripts/add-missing-indexes.js` - **ุดุบููู ุงูุขู!**

### **ุงูุฃููุงุฏ ุงููุญุณููุฉ:**
- ๐ `backend/utils/errorHandler.js` - **ุฌุงูุฒ (ูุง ูุญุชุงุฌ ุชุดุบูู)**
- ๐ `frontend/app/search/page.tsx` - **ูุญุณูู โ**

### **ุงูุฃุฏูุฉ:**
- ๐ `PRE_LAUNCH_CHECKLIST.md` - **ุฏููู ุดุงูู**
- ๐ `QUICK_START_PRE_LAUNCH.md` - **ุฏููู ุณุฑูุน**
- ๐ `SECURITY_REVIEW.md` - **ุชูุฑูุฑ ุงููุฑุงุฌุนุฉ**

---

## ๐ฏ ุงูุฎูุงุตุฉ

### **ูุง ุชู ุฅุนุฏุงุฏู:**
1. โ Scripts ุฌุงูุฒุฉ
2. โ ุฃููุงุฏ ูุญุณููุฉ
3. โ ุฃุฏูุฉ ุดุงููุฉ

### **ูุง ุชุญุชุงุฌ ุฅูู ูุนูู ุงูุขู:**

#### **1. ุดุบูู Indexes Script** (ููู!)
```bash
cd /Users/husseinbabsail/Desktop/projects/baytaljazeera-platform
node backend/scripts/add-missing-indexes.js
```

#### **2. ุดุบูู ุงูุงุฎุชุจุงุฑุงุช**
```bash
npm test
```

#### **3. ุงุฎุชุจุฑ ุงููููุน ูุฏููุงู**
- ุชุณุฌูู ุงูุฏุฎูู โ
- ุฅูุดุงุก ุฅุนูุงู โ
- ุงูุจุญุซ โ
- Admin Dashboard โ

#### **4. (ุงุฎุชูุงุฑู) ุฃุถู Redis + Sentry**
- ูู Railway Variables

---

## โ ุฃุณุฆูุฉ ุดุงุฆุนุฉ

### **Q: ูู Script ุงูู Indexes ุถุฑูุฑูุ**
**A:** ูุนู! ูุญุณูู ุฃุฏุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุดูู ูุจูุฑ.

### **Q: ูู ูููููู ุชุฎุทู ุงูุงุฎุชุจุงุฑุงุชุ**
**A:** ูุง ูููุตุญ ุจุฐููุ ููู ุฅุฐุง ููุช ูุชุฃูุฏุงู ุฃู ูู ุดูุก ูุนููุ ููููู ุชุฎุทููุง.

### **Q: ูู Redis ุถุฑูุฑูุ**
**A:** ูุงุ ูููู ููุตู ุจู ุจุดุฏุฉ ูุชุญุณูู ุงูุฃุฏุงุก.

### **Q: ูู Sentry ุถุฑูุฑูุ**
**A:** ูุงุ ูููู ูููุฏ ุฌุฏุงู ูุชุชุจุน ุงูุฃุฎุทุงุก ุจุนุฏ ุงูุฅุทูุงู.

---

## ๐ ุงูุฎุทูุงุช ุงูููุงุฆูุฉ

1. **ุดุบูู:** `node backend/scripts/add-missing-indexes.js`
2. **ุดุบูู:** `npm test`
3. **ุงุฎุชุจุฑ:** ุงููููุน ูุฏููุงู
4. **ุฃุถู (ุงุฎุชูุงุฑู):** Redis + Sentry
5. **๐ ุฃุทููู!**

---

**ุขุฎุฑ ุชุญุฏูุซ:** 16 ููุงูุฑ 2025  
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุชูููุฐ
